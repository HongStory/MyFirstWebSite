<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Network part4</title>
    <link rel="stylesheet" href="light-mode.css" id="css-link">
</head>
<body>
    <div class="container">
    <header>
        <div id = "control">
            <input type="button" value="DarkModOn" onclick="changeMode();"/>
        </div>
        <img src="logo.webp"/>
        <h1><a href ="index.html">My First Web Site!</h1>
            
    </header>
    
    <section class="content">
    <nav>
        <ol>
                        <li><a href="page_html.html"> HTML </a></li>
            <li><a href="page_css.html"> CSS </a></li>
            <li><a href="page_javascript.html"> JavaScript </a></li>
            <li><a href="page_javascript2.html"> JavaScript-with Web </a></li>
            <li><a href="page_react.html"> React </a></li>
            <li><a href="page_nextjs.html"> Nextjs </a></li>
            <li><a href="page_nodejs.html"> Nodejs </a></li>
            <li><a href="page_mysql.html"> Mysql </a></li>
            <li><a href="page_php.html"> PHP </a></li>
            <li><a href="page_git.html"> Git </a></li>
            <li><a href="page_pm.html"> Package-Manager </a></li>
            <li><a href="page_database.html"> Database </a></li>
            <li><a href="page_datastr.html"> Data-Structure </a></li>
            <li><a href="page_cs1.html"> 컴퓨터구조 </a></li>
            <li><a href="page_cs2.html"> 구조파트2 </a></li>
            <li><a href="page_os.html"> OS Part1</a></li>
            <li><a href="page_os2.html"> OS Part2 </a></li>
            <li><a href="page_os3.html"> OS Part3 </a></li>
            <li><a href="page_os4.html"> OS Part4 </a></li>
            <li><a href="page_network.html"> Network-OSI model </a></li>
            <li><a href="page_network2.html"> Physical-Data-layer1 </a></li>
            <li><a href="page_network3.html"> Physical-Data-layer2 </a></li>
            <li><a href="page_network4.html"> Network-layer1 </a></li>
            <li><a href="page_network5.html"> Network-layer2 </a></li>
            <li><a href="page_network6.html"> Transport-layer </a></li>
            <li><a href="page_network7.html"> Application-layer1 </a></li>
            <li><a href="page_network8.html"> Application-layer2 </a></li>
            <li><a href="page_network9.html"> Application-layer3 </a></li>
            <li><a href="page_network10.html"> Application-layer4 </a></li>
            <li><a href="page_network11.html"> Application-layer5 </a></li>
        </ol>
    </nav>
    
        <main>
            <h2>Network-layer1/h2>
            <ul>
            <h4>LAN을 넘어서는 네트워크 계층</h4>    
                <li>IP주소를 통한 송수신지 대상을 지정</li>
                <li>라우팅을 통한 다른 네트워크와 통신</li>
                <li>라우팅:다른 네트워크에<br> 
                    이르는 경로 결정</li>
                <li>데이터 링크 계층의 한계</li>
                <li>물리 계층과 데이터링크 계층만으로는<br>
                    LAN을 넘어서 통신하기 어려운<br> 
                    두가지 이유</li>
                <li>다른 네트워크까지의<br> 
                    도달 경로를 파악하기 어려움</li>
                <li>모든 네트워크에 속한 모든<br> 
                    호스트의 위치를 특정하기 어려움</li>
                <li>라우팅:패킷이 이동할<br> 
                    최적의 경로를 결정하는것</li>
                <li>라우터:라우팅을 수행하는<br> 
                    대표적인 장비</li>
                <li>네트워크 계층이 있어야<br> 
                    네트워크 간의 라우팅이 가능</li>
                <li>MAC주소만으로는 모든 네트워크에<br> 
                    속한 모든 호스트의 위치를<br> 
                    특정하기 어려움</li>
                <li>MAC주소와 IP주소는 함께 사용되고,<br>
                    기본적으로 IP주소를 우선 활용</li>
                <li>수신지:IP주소</li>
                <li>수신인:MAC주소</li>
                <li>IP주소:수신지,논리주소,<br>
                    유동적할당,자동할당,직접할당</li>
                <li>MAC주소:수신인,물리주소,<br>
                    NIC마다 할당되는 고정된 주소</li>
                <li>DHCP(Dynamic Configuration Protocol)<br>
                    라는 프로토콜을 통한 자동 할당</li>    
            <h4>네트워크 계층의 핵심<br>
                인터넷 프로토콜(IP)</h4>
                <li>물리 계층,데이터링크 계층의<br> 
                    한계를 극복하는 프로토콜</li>
                <li>IP버전4(IPv4)와IP버전6(IPv6)</li>
                <li>IP의 공식적 두 기능</li>
                <li>주소지정(IP addressing)</li>
                <li>단편화(IP fragmentation)</li>
                <li>RFC(Request for Comments)문서:<br>
                    네트워크/인터넷 관련 신기술 제안<br>
                    의견 등을 남긴 문서</li>
                <li>일부 RFC는 오늘날 까지 사용되는<br>
                    인터넷 표준이 됨(RFC791)</li>
            <h4>주소 지정</h4>    
                <li>IPv4주소를 바탕으로 송수신 대상을<br>
                    지정하는 것을 의미</li>
                <li>4바이트(32비트)로 하나의 주소를 표현</li>
                <li>숫자당 8비트로 표현:0~255 범위<br> 
                    안에 있는 네개의 10진수로 표기</li>
                <li>각 숫자는 점(.)으로 구분</li>
                <li>점으로 구분된 8비트를<br> 
                    옥텟(octet)이라함</li>
                <li>IP주소 예:192.168.1.1</li>
            <h4>단편화</h4>    
                <li>전송하고자 하는 패킷의 크기를MTU<br>
                    이하의 복수의 패킷으로 나누는 것</li>
                <li>MTU(Maximum Transmission Unit)</li>
                <li>한번에 전송 가능한 IP패킷의 최대크기</li>
                <li>IP패킷의 헤더도 MTU크기에 포함</li>
                <li>일반적인 MTU크기는 1500바이트,<br>
                    MTU크기 이하로 나누어진 패킷은<br> 
                    수신지에 도착하면 다시 재조합 </li>
            <h4>IPv4패킷의 핵심 필드</h4>
                <li>식별자:패킷의 할당된 번호<br>
                    쪼개져서 도착한 IPv4 패킷들이<br>
                    어떤 메시지에서 쪼개졌는지를<br> 
                    알기 위해 사용</li>
                <li>플래그:세개의 비트로 구성<br>
                    첫 벗째비트는 항상 0:<br> 
                    현재 사용되지 않음
                    DF:비트(Don't Fragment)-<br>
                    IP단편화를 수행하지 말라는 표시<br>
                    1이라면 단편화 수행하지 말라<br>
                    0이라면 단편화 가능하다<br>
                    MF비트(More Fragment)-<br>
                    단편화된 패킷이 더 있는지를 나타냄<br>
                    1이라면 쪼개진 패킷이 아직더 있다<br>
                    0이라면 이 패킷이 마지막 패킷이다</li>
                <li>단편화 오프셋:초기 데이터에서 몇<br>
                    번째로 떨어진 패킷인지를 나타냄<br>
                    단편화되어 전송되는 패킷들은<br> 
                    수신지에 순서대로 도착하지<br> 
                    않을 수 있음<br>
                    수신지에서 패킷들을 순서대로<br> 
                    재조합 하려면 단편화된 패킷이<br>
                    초기 데이터에서 몇 번째에 해당하는<br>
                    패킷인지 알아야함</li>
                <li>TTL(Time To Live):패킷의 수명<br>
                    무의미한 패킷이 네트워크상에<br>
                    지속적으로 남아있는 것을 방지하기<br> 
                    위해 존재 패킷이 하나의 라우터를<br>
                    거칠 때마다 TTL이 1씩 감소,<br>
                    TTL값이 0으로 떨어진 패킷은 폐기<br>
                    홉(hop)-패킷이 호스트 또는<br> 
                    라우터에 한번 전달되는 것<br>
                    즉,TTL필드의 값은 홉마다 1씩 감소</li>
                <li>프로토콜:상위계층의 프로토콜이<br> 
                    무엇인지를 나타내는 필드<br>
                    예시:전송계층의 대표적인<br> 
                    프로토콜인TCP는6번,<br>
                    UDP는17번으로 명시</li>
                <li>송신지IP주소:이름 그대로</li>
                <li>수신지IP주소:이름 그대로</li>
            <h4>IPv6</h4>    
                <li>이론적으로 할당가능한<br> 
                    IPv4주소 개수는 몇개일까</li>
                <li>2의32승 약 43억개,턱업이 부족</li>
                <li>IPv6는 16바이트(128비트)로<br> 
                    주소 표현할 수 있고,<br>
                    콜론으로(:)으로 구분된 8개의<br>
                    그룹의 16진수로 표기<br>
                    이론적으로 할당 가능한 IPv6주소는<br>
                    2의128승,사실상 무한</li>
                <li>IPv4:192.168.1.1</li>
                <li>IPv6:2001:0230:abcd:ffff:<br>
                    0000:0000:ffff:1111</li>
            <h4>IPv6 패킷의 핵심필드</h4>    
                <li>다음 헤더:상위 계층 프로토콜<br> 
                    또는 확장 헤더를 가리키는 필드<br>
                    확장헤더:기본헤더와 더불어<br> 
                    확장헤더라는 추가헤더를 가질 수 있음<br>
                    확장헤더는 기본헤더와 페이로드<br> 
                    데이터 사이에 위치 마치 꼬리에<br> 
                    꼬리를 물듯 또 다른 확장<br> 
                    헤더를 가질 수도 있음<br>
                    대표적인 확장 헤더:홉 간 옵션,<br>
                    수신지 옵션,라우팅,단편,ESP,AH</li>
                <li>홉제한:IPv4패킷의TTL필드와 비슷</li>
                <li>송신지IP주소</li>
                <li>수신지IP조소</li>
            <h4>IP주소로 MAC주소 알아내기:ARP</h4>    
                <li>Address Resolution Protocol</li>
                <li>IP주소로 MAC를 알아내는 프로토콜</li>
                <li>동일 네트워크상의 송수신 대상의<br> 
                    IP주소로 MAC주소를 알아낼 수 있음</li>
                <li>ARP동작:요청,응답,테이블 갱신</li>
                <li>동일 네트워크 상의 호스트 A,B</li>
                <li>호스트A는 B의 IP주소는 알지만<br>
                    MAc주소는 모름</li>
                <li>이 상황에서 호스트B의<br> 
                    MAC주소를 알아내는 과정</li>
                <li>호스트A:브로드캐스트 메시지 전송</li>
                <li>이 브로드캐스트 메시지:<br>
                    ARP요청이라는 ARP패킷</li>
                <li>호스트B가 저에요.제 MAC 이거에요<br>
                    유니캐스트 메시지를 A에게 전송</li>
                <li>ARP패킷:ARP요청,응답과정에서<br> 
                    송수신되는 패킷</li>
                <li>오페레이션코드:요청1,응답0</li>
                <li>송수신지하드웨어주소:MAC주소표기</li>
                <li>송수신지프로토콜주소:IP주소표기</li>
                <li>ARP테이블갱신:<br>
                    IP와 MAC주소의 연관 관계<br>
                    일정 시간이 지나면 삭제,임의 삭제</li>
                <li>ARP테이블에 등록된 호스트에<br> 
                    대해선 ARP요청을 보낼 필요 없음</li>
                <li>ARP 테이블 확인 CMD : arp -a</li>
                <li>다른 네크워크에 속해 있을 경우</li>
                <li>호스트A-라우터A-라우터B-호스트B</li>
                <li>각각 ARP요청,응답을거쳐 패킷을 전송</li>
            <h4>IP단편화를 피하는 방법</h4>    
                <li>IP단편화는 되도록 하지 않는것이 좋음</li>
                <li>불필요한 트래픽 증가와 대역폭 낭비</li>
                <li>쪼개진 IP패킷들을 하나로<br> 
                    합치는 과정에서 발생하는<br> 
                    부하도 성능저하요소</li>
                <li>IP패킷을 주고받는 모든 노드가<br>
                    IP단편화 없이 주고 받을 수 있는<br> 
                    최대 크기만큼만 전송해야함</li>
                <li>경로 MTU(Path MTU):단편화 없이<br>
                    주고 받을 수 있는 최대크기</li>
                <li>경로 MTU 발견(Path MTU discovery)<br>
                    경로MTU를 구하고 해당 크기만큼만<br> 
                    송수신하여 IP단편화를 회피</li>
                <li>오늘날에는 대부분<br> 
                    DF(Don't Fragment)비트가<br> 
                    세팅되어 있음</li>
            <h4>IP주소 핵심기능,주소지정</h4>    
                <li>주소지정은 IP로 이루어짐</li>
                <li>IP주소의 구조:크게 네트워크<br>
                    주소와 호스트주소로 구성</li>
                <li>네트워크주소:네트워크ID,<br>
                    네트워크식별자,네트워크를<br> 
                    표현하는 부분,호스트가<br> 
                    속한 특정 네트워크를 식별</li>
                <li>호스트주소:호스트ID,호스트 식별자<br>
                    호스트를 표현하는 부분<br>
                    특정 호스트를 식별</li>
                <li>172.16. =>네트워크 주소</li>
                <li>12.45 =>호스트 주소</li>
                <li>IP주소의 구조:네트워크주소에 많이<br> 
                    할당할수도 있고 호스트주소에<br>
                    많이 할당할 수도 있다</li>
                <li>호스트 주소공간을 크게 할당하면?</li>
                <li>호스트가 할당되지 않은<br> 
                    다수의IP주소가 낭비</li>
                <li>호스트 주소공간을 작게 할당하면?</li>
                <li>호스트가 사용할 IP주소가 부족</li>
                <li>이런 고민을 해결하기위해 =<br>
                    IP주소의 클래스</li>
                <li>클래스:네트워크 크기에 따라<br> 
                    IP를 분류하는 기준</li>
                <li>클래스풀 주소 체계-클래스를 기반으로<br>
                    IP주소를 관리하는 주소체계</li>
                <li>필요한 호스트 IP 개수에<br> 
                    따라 클래스를 달리 선택-<br>
                    네트워크 크기 조정 가능</li>
                <li>A,B,C클래스:일반적으로 사용-A>B>C</li>
                <li>E,D클래스:멀티캐스트를 위한 클래스<br>
                    특수한 목적을 위해 예약된 클래스</li>
                <li>호스트 주소가 전부 0인 IP주소</li>
                <li>해당 네트워크 자체를 의미하는<br> 
                    네트워크 주소로 사용</li>
                <li>172.16.0.0</li>
                <li>호스트 주소가 전부1 인 IP주소</li>
                <li>브로드캐스트 주소로 사용</li>
                <li>172.16.255.255</li>
                <li>클래스,초기비트,네트워크주소비트/<br>
                    호스트 주소비트,할당 가능한<br> 
                    네트워크수,할당 가능한 호스트수</li>
                <li>A:0,8/24,2의7승,2의24승-2</li>
                <li>B:10,16/16,2의14승,2의16승-2</li>
                <li>C:110,24/8,2의21승,2의8승-2</li>
            <h4>클래스풀 주소 체계의 한계</h4>
                <li>클래스별 네트워크 크기가 고정되어<br>
                    있어 여전히 낭비되는 IP주소가 많음</li>
                <li>A클래스 네트워크 하나당 할당<br> 
                    가능한 호스트:1600만개 이상</li>
                <li>B클래스 네티워크 하나당 할당<br>
                    가능한 호스트:6만개 이상</li>
                <li>진짜 이 IP모두 쓸까?</li>
                <li>클래스별 네트워크 크기가 고정되어<br> 
                    있어 사전에정해진 크기외에 다른<br>
                    크기 네트워크 구성 불가능</li>
                <li>C클래스 네트워크 하나당<br> 
                    할당 가능한 호스트:254개</li>
                <li>직원 300명 컴퓨터,동일 네트워크로<br> 
                    구성하려면 B클래스 주소를 써야하나?</li>
            <h4>클래스리스 주소 쳬계</h4>    
                <li>클래스 개념없이 클래스에 구애 안받고</li>
                <li>네트워크의 영역을 나누고 호스트에게<br> 
                    IP주소 공간을 할당하는 방식</li>
                <li>클래스풀 주소 체계보다 유동적이고<br> 
                    정교한 네트워크 구획 가능</li>
                <li>오늘날 주로 활용되는 방식</li>
            <h4>서브넷 마스크</h4>
                <li>클래스 없이 IP주소의 네트워크 주소<br>
                    호스트 주소를 구분하는 수단</li>
                <li>IP주소상에서 네트워크 주소는1,<br></li>
                    호스트 주소는 0으로 표기한 비트열
                <li>네트워크 내의 부분적인 네트워크<br>
                    (subnetwork)를 구분짓는<br>
                    (mask) 비트열</li>
            <h4>클래스의 서브넷 마스크</h4>    
                <li>A클래스:255,0,0,0</li>
                <li>11111111.0*8.0*8.0*8</li>
                <li>B클래스:255.255.0.0</li>
                <li>11111111.11111111.0*8.0*8</li>
                <li>C클래스:255.255.255.0</li>
                <li>11111111.11111111.11111111.0*8</li>
            <h4>서브네팅</h4>    
                <li>서브넷 마스크를 이용해 클래스를<br> 
                    원하는 크기로 더 잘개<br> 
                    쪼개어 사용하는 것</li>
                <li>서브넷 마스크로 네트워크 주소와<br> 
                    호스트를 구분 짓는 방법</li>
                <li>IP주소와 서브넷 마스크를<br> 
                    비트AND연산->결과=네트워크주소</li>
                <li>비트AND연산-피연산자가 모두<br> 
                    1인 경우에는1,아닌 경우에는<br>
                    0이되는 연산</li>
            <h4><a href="page_network5.html"> Network-layer2 </a></h4>
            </ul>
            
        </main>
        
        <!-- <aside>AD</aside> -->
        </section>
        <footer>
            <a href="https://opentutorials.org/course/1">멘토 사이트</a>
            <input id = "rollUp" type="button" value="UpScroll" onclick="scroll();"/>
        </footer>
    </div>
    <script src="script.js"></script>
</body>
</html>